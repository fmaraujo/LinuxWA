from selenium import webdriver
from time import sleep
from flask import render_template
from selenium import webdriver
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.common.by import By
from selenium.common.exceptions import NoSuchElementException, TimeoutException
from time import sleep
from webdriver_manager.chrome import ChromeDriverManager
import os, sys
from selenium.webdriver.common.desired_capabilities import DesiredCapabilities
from selenium.webdriver.common.keys import Keys


from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.by import By

import base64
import re

options = webdriver.ChromeOptions()
options.add_argument("--no-sandbox")
options.add_argument("--disable-dev-shm-usage")
options.add_argument("--disable-gpu")
options.add_argument("--remote-debugin-port=9222")
options.add_argument("--screen-size=1200x800")

driver = webdriver.Chrome(ChromeDriverManager().install(), desired_capabilities=options.to_capabilities())
driver.get('https://web.whatsapp.com/')

name = input('Enter the name of user or group : ')
base64 = 'data:image/png;base64,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'
input('Enter anything after scanning QR code')

user = driver.find_element_by_xpath('//span[@title = "{}"]'.format(name))
user.click()

#attachment_box = driver.find_element_by_xpath('//*[@id="main"]/header/div[3]/div/div[2]/div')
#attachment_box.click()

#sleep(5)

#image_box = driver.find_element_by_xpath(
#    '//*[@id="main"]/header/div[3]/div/div[2]/span/div/div/ul/li[3]/button/input').send_keys(filepath)
##image_box.click()

#sleep(5)

#driver.save_screenshot('erro.png')

#send_button = driver.find_element_by_xpath('//span[@data-icon="send-light"]')
#send_button.click()

_, b64data = base64.split(',')

b64data = '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'

b64data = bytes(b64data, encoding="ascii")

print(b64data)

with open("static/arquivo.png", "wb") as fh:
    fh.write(base64.decodebytes(b64data))
    fh.close()

user = driver.find_element_by_xpath('//span[@title = "{}"]'.format(name))
user.click()
attachment_box = driver.find_elements_by_xpath('//*[@id="main"]/header/div[3]/div/div[2]/div')
while not len(attachment_box) > 0:
    attachment_box = driver.find_elements_by_xpath('//*[@id="main"]/header/div[3]/div/div[2]/div')
    sleep(2)
attachment_box = driver.find_element_by_xpath('//*[@id="main"]/header/div[3]/div/div[2]/div')
attachment_box.click()
image_box = driver.find_elements_by_xpath('//*[@id="main"]/header/div[3]/div/div[2]/span/div/div/ul/li[3]')
while not len(image_box) > 0:
    image_box = driver.find_elements_by_xpath('//*[@id="main"]/header/div[3]/div/div[2]/span/div/div/ul/li[3]')
    sleep(2)
image_box = driver.find_element_by_xpath('//*[@id="main"]/header/div[3]/div/div[2]/span/div/div/ul/li[3]/button/input').send_keys('static/arquivo.png')
sleep(2)
send_button = driver.find_elements_by_xpath('//span[@data-icon="send-light"]')
while not len(send_button) > 0:
    send_button = driver.find_elements_by_xpath('//span[@data-icon="send-light"]')
    sleep(2)
send_button = driver.find_element_by_xpath('//span[@data-icon="send-light"]')
send_button.click()